<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Retrieve MCMC convergence diagnostics for a rater fit — mcmc_diagnostics • rater</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Retrieve MCMC convergence diagnostics for a rater fit — mcmc_diagnostics" />
<meta property="og:description" content="Retrieve MCMC convergence diagnostics for a rater fit" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rater</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/workflow.html">rater workflow</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Voltemand/rater">
    <span class="fa fa-lg fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retrieve MCMC convergence diagnostics for a rater fit</h1>
    <small class="dont-index">Source: <a href='https://github.com/jeffreypullin/rater/blob/master/R/extract.R'><code>R/extract.R</code></a></small>
    <div class="hidden name"><code>mcmc_diagnostics.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Retrieve MCMC convergence diagnostics for a rater fit</p>
    </div>

    <pre class="usage"><span class='fu'>mcmc_diagnostics</span><span class='op'>(</span><span class='va'>fit</span>, pars <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"pi"</span>, <span class='st'>"theta"</span><span class='op'>)</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>fit</th>
      <td><p>An rater <code>mcmc_fit</code> object.</p></td>
    </tr>
    <tr>
      <th>pars</th>
      <td><p>A character vector of parameter names to return. By default
<code><a href='https://rdrr.io/r/base/c.html'>c("pi", "theta")</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A matrix where the columns represent different diagnostics and the
rows are different parameters. Currently the first column contains
the Rhat statistic and the second bulk effective samples size. The
rownames contain the parameter names.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>MCMC diagnostics cannot be calculate for the z due to the
marginalisation used to fit the models.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, and
Paul-Christian Bürkner (2019). Rank-normalization, folding, and
localization: An improved R-hat for assessing convergence of
MCMC. <em>arXiv preprint</em> <code>arXiv:1903.08008</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://mc-stan.org/rstan/reference/Rhat.html'>rstan::Rhat()</a></code>, <code><a href='https://mc-stan.org/rstan/reference/Rhat.html'>rstan::ess_bulk()</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>

<span class='va'>fit</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rater.html'>rater</a></span><span class='op'>(</span><span class='va'>anesthesia</span>, <span class='st'>"dawid_skene"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'dawid_skene' NOW (CHAIN 1).
#&gt; Chain 1: 
#&gt; Chain 1: Gradient evaluation took 0.000142 seconds
#&gt; Chain 1: 1000 transitions using 10 leapfrog steps per transition would take 1.42 seconds.
#&gt; Chain 1: Adjust your expectations accordingly!
#&gt; Chain 1: 
#&gt; Chain 1: 
#&gt; Chain 1: Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1: Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1: Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1: Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1: Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1: Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1: Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1: Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1: Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1: Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1: Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1: Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt; Chain 1: 
#&gt; Chain 1:  Elapsed Time: 2.29555 seconds (Warm-up)
#&gt; Chain 1:                2.28031 seconds (Sampling)
#&gt; Chain 1:                4.57587 seconds (Total)
#&gt; Chain 1: 
#&gt; 
#&gt; SAMPLING FOR MODEL 'dawid_skene' NOW (CHAIN 2).
#&gt; Chain 2: 
#&gt; Chain 2: Gradient evaluation took 0.000142 seconds
#&gt; Chain 2: 1000 transitions using 10 leapfrog steps per transition would take 1.42 seconds.
#&gt; Chain 2: Adjust your expectations accordingly!
#&gt; Chain 2: 
#&gt; Chain 2: 
#&gt; Chain 2: Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2: Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2: Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2: Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2: Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2: Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2: Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2: Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2: Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2: Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2: Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2: Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt; Chain 2: 
#&gt; Chain 2:  Elapsed Time: 2.2886 seconds (Warm-up)
#&gt; Chain 2:                2.21544 seconds (Sampling)
#&gt; Chain 2:                4.50404 seconds (Total)
#&gt; Chain 2: 
#&gt; 
#&gt; SAMPLING FOR MODEL 'dawid_skene' NOW (CHAIN 3).
#&gt; Chain 3: 
#&gt; Chain 3: Gradient evaluation took 0.000143 seconds
#&gt; Chain 3: 1000 transitions using 10 leapfrog steps per transition would take 1.43 seconds.
#&gt; Chain 3: Adjust your expectations accordingly!
#&gt; Chain 3: 
#&gt; Chain 3: 
#&gt; Chain 3: Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3: Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3: Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3: Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3: Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3: Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3: Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3: Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3: Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3: Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3: Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3: Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt; Chain 3: 
#&gt; Chain 3:  Elapsed Time: 2.44828 seconds (Warm-up)
#&gt; Chain 3:                2.26902 seconds (Sampling)
#&gt; Chain 3:                4.7173 seconds (Total)
#&gt; Chain 3: 
#&gt; 
#&gt; SAMPLING FOR MODEL 'dawid_skene' NOW (CHAIN 4).
#&gt; Chain 4: 
#&gt; Chain 4: Gradient evaluation took 0.000141 seconds
#&gt; Chain 4: 1000 transitions using 10 leapfrog steps per transition would take 1.41 seconds.
#&gt; Chain 4: Adjust your expectations accordingly!
#&gt; Chain 4: 
#&gt; Chain 4: 
#&gt; Chain 4: Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4: Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4: Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4: Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4: Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4: Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4: Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4: Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4: Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4: Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4: Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4: Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt; Chain 4: 
#&gt; Chain 4:  Elapsed Time: 2.27797 seconds (Warm-up)
#&gt; Chain 4:                2.28203 seconds (Sampling)
#&gt; Chain 4:                4.56001 seconds (Total)
#&gt; Chain 4: </div><div class='input'>
<span class='co'># Calculate the diagnostics for all parameters.</span>
<span class='fu'>mcmc_diagnostics</span><span class='op'>(</span><span class='va'>fit</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                     Rhat  ess_bulk
#&gt; pi[1]          1.0018564  8721.963
#&gt; pi[2]          0.9996735  7868.430
#&gt; pi[3]          1.0005077  6812.458
#&gt; pi[4]          0.9994999  8285.913
#&gt; theta[1, 1, 1] 1.0007480 10168.516
#&gt; theta[1, 1, 2] 1.0014520  8925.406
#&gt; theta[1, 1, 3] 1.0000533  6300.617
#&gt; theta[1, 1, 4] 1.0003481  5661.020
#&gt; theta[1, 2, 1] 1.0010566  5575.687
#&gt; theta[1, 2, 2] 1.0012662  7806.467
#&gt; theta[1, 2, 3] 1.0003874  8392.915
#&gt; theta[1, 2, 4] 1.0000659  5715.003
#&gt; theta[1, 3, 1] 1.0005545  4925.573
#&gt; theta[1, 3, 2] 1.0006557  3731.670
#&gt; theta[1, 3, 3] 1.0005597  5225.978
#&gt; theta[1, 3, 4] 1.0023118  4117.378
#&gt; theta[1, 4, 1] 1.0001805  5319.607
#&gt; theta[1, 4, 2] 1.0005297  5107.003
#&gt; theta[1, 4, 3] 1.0004068  3247.035
#&gt; theta[1, 4, 4] 1.0000499  4243.765
#&gt; theta[2, 1, 1] 0.9996267  7879.288
#&gt; theta[2, 1, 2] 1.0001880  7499.573
#&gt; theta[2, 1, 3] 1.0000980  4875.765
#&gt; theta[2, 1, 4] 1.0005510  6110.191
#&gt; theta[2, 2, 1] 1.0034727  6346.392
#&gt; theta[2, 2, 2] 1.0002752  7919.640
#&gt; theta[2, 2, 3] 1.0017209  7795.188
#&gt; theta[2, 2, 4] 1.0004780  4859.868
#&gt; theta[2, 3, 1] 1.0008183  5374.839
#&gt; theta[2, 3, 2] 1.0003102  4881.564
#&gt; theta[2, 3, 3] 0.9998637  6989.675
#&gt; theta[2, 3, 4] 0.9999747  5378.795
#&gt; theta[2, 4, 1] 1.0009720  5495.259
#&gt; theta[2, 4, 2] 1.0012059  4447.321
#&gt; theta[2, 4, 3] 1.0001370  4901.837
#&gt; theta[2, 4, 4] 0.9998724  5654.051
#&gt; theta[3, 1, 1] 1.0019557  7646.504
#&gt; theta[3, 1, 2] 1.0005018  5779.294
#&gt; theta[3, 1, 3] 1.0001362  5279.720
#&gt; theta[3, 1, 4] 1.0002711  5432.293
#&gt; theta[3, 2, 1] 1.0012126  5654.674
#&gt; theta[3, 2, 2] 1.0026247  8646.743
#&gt; theta[3, 2, 3] 1.0013172  7637.378
#&gt; theta[3, 2, 4] 1.0005383  5669.388
#&gt; theta[3, 3, 1] 0.9992102  4941.167
#&gt; theta[3, 3, 2] 1.0009436  6095.358
#&gt; theta[3, 3, 3] 1.0041810  7444.046
#&gt; theta[3, 3, 4] 1.0019049  8018.247
#&gt; theta[3, 4, 1] 0.9998732  5591.010
#&gt; theta[3, 4, 2] 0.9998484  6368.196
#&gt; theta[3, 4, 3] 1.0020156  3623.746
#&gt; theta[3, 4, 4] 1.0004888  5917.485
#&gt; theta[4, 1, 1] 1.0022814  7910.919
#&gt; theta[4, 1, 2] 1.0006736  6578.881
#&gt; theta[4, 1, 3] 0.9996692  5247.724
#&gt; theta[4, 1, 4] 1.0010484  5701.457
#&gt; theta[4, 2, 1] 1.0007064  7113.989
#&gt; theta[4, 2, 2] 1.0009202  7273.050
#&gt; theta[4, 2, 3] 1.0013751  6715.464
#&gt; theta[4, 2, 4] 1.0011090  5377.885
#&gt; theta[4, 3, 1] 1.0006028  4622.753
#&gt; theta[4, 3, 2] 1.0004774  5162.700
#&gt; theta[4, 3, 3] 1.0001719  6164.472
#&gt; theta[4, 3, 4] 0.9998938  4478.527
#&gt; theta[4, 4, 1] 1.0003378  5581.756
#&gt; theta[4, 4, 2] 1.0014798  5338.750
#&gt; theta[4, 4, 3] 1.0007643  5786.495
#&gt; theta[4, 4, 4] 1.0012853  5952.254
#&gt; theta[5, 1, 1] 1.0003670  6115.770
#&gt; theta[5, 1, 2] 1.0000329  4824.212
#&gt; theta[5, 1, 3] 1.0011425  4599.584
#&gt; theta[5, 1, 4] 0.9999472  5132.004
#&gt; theta[5, 2, 1] 1.0035525  9264.842
#&gt; theta[5, 2, 2] 1.0005297  7581.178
#&gt; theta[5, 2, 3] 1.0018928  6053.396
#&gt; theta[5, 2, 4] 1.0000284  5200.117
#&gt; theta[5, 3, 1] 1.0005089  5543.668
#&gt; theta[5, 3, 2] 1.0012199  7312.621
#&gt; theta[5, 3, 3] 1.0004916  6811.750
#&gt; theta[5, 3, 4] 1.0002861  4650.799
#&gt; theta[5, 4, 1] 1.0006259  6014.800
#&gt; theta[5, 4, 2] 1.0011635  5102.783
#&gt; theta[5, 4, 3] 1.0004533  4183.315
#&gt; theta[5, 4, 4] 1.0012785  6453.276</div><div class='input'>
<span class='co'># Calculate the diagnostics just for the pi parameter.</span>
<span class='fu'>mcmc_diagnostics</span><span class='op'>(</span><span class='va'>fit</span>, pars <span class='op'>=</span> <span class='st'>"pi"</span><span class='op'>)</span>
</div><div class='output co'>#&gt;            Rhat ess_bulk
#&gt; pi[1] 1.0018564 8721.963
#&gt; pi[2] 0.9996735 7868.430
#&gt; pi[3] 1.0005077 6812.458
#&gt; pi[4] 0.9994999 8285.913</div><div class='input'>
<span class='co'># }</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jeffrey Pullin, Damjan Vukcevic.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


